@import"https://fonts.googleapis.com/css2?family=Nunito:wght@700;800;900&display=swap";:root{color-scheme:light;--ink: #1d1b27;--panel: rgba(255, 251, 236, .92);--warm: #ff6f61;--sun: #ffd966;--blue: #2d88ff;--success: #4ade80;--danger: #f87171}*{box-sizing:border-box}html,body,#root{width:100%;height:100%;margin:0;overflow:hidden;touch-action:none;overscroll-behavior:none;font-family:Nunito,Avenir Next,Trebuchet MS,sans-serif;background:radial-gradient(circle at 20% 15%,#ffe6bd,#ffd9c8 42%,#ffd2a7);color:var(--ink)}.game-root{position:relative;width:100%;height:100%;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none}.game-root.shake{animation:shake .24s linear}.vignette-overlay{position:absolute;inset:0;z-index:2;pointer-events:none;background:radial-gradient(ellipse at center,transparent 40%,rgba(0,0,0,.3) 100%)}.background-layer{position:absolute;inset:0;z-index:1;overflow:hidden}.background-video,.background-png{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}.background-png.current{animation:fadeIn 1.1s ease both}.background-png.previous{opacity:.54}.stage-layer{position:absolute;inset:0;z-index:3;transition:transform .3s ease-out}.lane-indicators{position:absolute;top:75px;left:0;right:0;display:flex;justify-content:space-around;padding:0 10%;z-index:5;pointer-events:none}.lane-indicator{width:50px;height:50px;border-radius:50%;background:#ffffff4d;display:flex;align-items:center;justify-content:center;font-size:1.5rem;transition:all .15s ease;opacity:.5}.lane-indicator.active{background:#ffe678f2;transform:scale(1.25);opacity:1;box-shadow:0 0 25px #ffdc64e6}.hit-particle{position:absolute;width:10px;height:10px;border-radius:50%;pointer-events:none;z-index:6;transform:translate(-50%,-50%)}.hit-particle.success{box-shadow:0 0 8px #ffdc64cc}.hit-particle.fail{box-shadow:0 0 8px #ff5050cc}.shadow-blob{position:absolute;left:50%;bottom:11vh;transform:translate(-50%);width:min(44vw,380px);filter:blur(2px);opacity:.74;transition:left .15s cubic-bezier(.2,.8,.2,1),transform .2s,opacity .2s}.dexter-wrapper{position:absolute;left:50%;bottom:12vh;transform:translate(-50%);width:min(48vw,420px);max-width:420px;aspect-ratio:1 / 1;display:flex;align-items:center;justify-content:center;transition:left .15s cubic-bezier(.2,.8,.2,1),bottom .05s linear}.dexter-wrapper.dexter-strip{animation:stripPulse .3s ease infinite alternate}.dexter-frame{width:100%;height:100%;object-fit:contain;image-rendering:auto}.dexter-celebrate{animation:celebratePop .5s ease-out}@keyframes celebratePop{0%{transform:scale(1)}25%{transform:scale(1.15) rotate(-3deg)}50%{transform:scale(1.05) rotate(3deg)}75%{transform:scale(1.1) rotate(-1deg)}to{transform:scale(1)}}.flying-costume{position:absolute;font-size:3rem;animation:flyOff .8s ease-out forwards;pointer-events:none;z-index:10}.flying-costume.hat{top:5%;left:50%}.flying-costume.sweater{top:35%;left:50%}.flying-costume.bowtie{top:28%;left:50%}.dropped-hat{position:absolute;left:30%;transform:translate(-50%);font-size:4rem;z-index:12;filter:drop-shadow(0 4px 8px rgba(0,0,0,.3))}.item-layer{position:absolute;inset:0;pointer-events:none}.falling-item{position:absolute;width:min(20vw,110px);transform:translate(-50%,-50%);will-change:top;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2));transition:opacity .2s}.falling-item.good.cheese{animation:cheeseWobble .5s ease-in-out infinite}.falling-item.good.tea{animation:teaSplash .4s ease-in-out infinite}.horizontal-shark{position:absolute;width:min(26vw,160px);will-change:left;filter:drop-shadow(0 0 16px rgba(253,73,73,.8));z-index:4}.horizontal-shark.from-left{animation:sharkSwimLeft .35s ease-in-out infinite}.horizontal-shark.from-right{animation:sharkSwimRight .35s ease-in-out infinite}.collect-zone{position:absolute;left:5%;right:5%;border-top:2px dashed rgba(255,255,255,.4);border-bottom:2px dashed rgba(255,255,255,.4);background:#ffe67814;pointer-events:none}.spotlight-overlay{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:7;pointer-events:none;transition:opacity .4s ease}.perfect-pop{position:absolute;width:42%;left:50%;top:14%;transform:translate(-50%,-50%);animation:perfectPop .34s ease-out forwards;pointer-events:none}.sparkle{position:absolute;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle,#fffcd1,#ffe36a 52%,#f8b500);box-shadow:0 0 11px #ffe678e0;animation:sparklePop .86s ease-out forwards;pointer-events:none}.touch-ripple{position:absolute;width:60px;height:60px;margin-left:-30px;margin-top:-30px;border-radius:50%;background:radial-gradient(circle,#fff6,#fff0 70%);border:2px solid rgba(255,255,255,.5);animation:rippleExpand .4s ease-out forwards;pointer-events:none}@keyframes rippleExpand{0%{transform:scale(.3);opacity:1}to{transform:scale(1.5);opacity:0}}.ui-layer{position:absolute;inset:0;z-index:9;pointer-events:none}.party-meter{position:absolute;top:max(12px,env(safe-area-inset-top));left:12px;right:12px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:10px;padding:10px 12px;border-radius:14px;background:var(--panel);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);font-size:.9rem;font-weight:800;transition:transform .1s ease}.party-meter.beat-pulse{box-shadow:0 0 20px #ffc86499}.party-meter.bump{transform:scale(1.03)}.party-meter-track{width:100%;height:14px;border-radius:10px;background:#0000001f;overflow:hidden}.party-meter-fill{height:100%;border-radius:10px;background:linear-gradient(90deg,var(--sun),#ff9968,var(--warm));transition:width .18s ease;position:relative;overflow:hidden}.meter-shimmer{position:absolute;top:0;left:-100%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:shimmer 2s infinite}.round-indicator{position:absolute;top:max(12px,env(safe-area-inset-top));left:50%;transform:translate(-50%);margin-top:55px;padding:6px 14px;border-radius:20px;background:#ffffffd9;font-weight:800;font-size:.85rem;color:var(--ink);display:flex;align-items:center;gap:8px}.combo-badge{background:linear-gradient(135deg,#ff6b35,#f7c531);color:#fff;padding:2px 8px;border-radius:12px;font-size:.8rem;animation:comboPulse .5s ease-out;text-shadow:0 1px 2px rgba(0,0,0,.3)}@keyframes comboPulse{0%{transform:scale(1.3)}to{transform:scale(1)}}.feedback-box{position:absolute;top:130px;left:50%;transform:translate(-50%);width:min(92vw,540px);text-align:center;font-weight:900;font-size:clamp(1rem,3.2vw,1.4rem);color:#3b1d11;text-shadow:0 1px 0 rgba(255,255,255,.45)}.strip-ui{position:absolute;left:50%;top:8vh;transform:translate(-50%);width:min(94vw,500px);padding:20px;border-radius:20px;background:#fff8e166;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.25);text-align:center;box-shadow:0 8px 32px #0003;pointer-events:none}.strip-title{margin:0 0 8px;font-size:clamp(1.2rem,4vw,1.8rem);color:var(--warm);text-shadow:0 2px 0 rgba(0,0,0,.1)}.strip-title.flashing{animation:flashText .4s ease infinite alternate}.strip-instruction{margin:0 0 12px;font-weight:800;font-size:1.1rem;color:var(--ink)}.strip-progress{width:100%;height:18px;border-radius:10px;background:#0000001a;overflow:hidden;margin-bottom:12px}.strip-bar{height:100%;border-radius:10px;background:linear-gradient(90deg,var(--sun),var(--warm),#ff4444);transition:width .1s ease}.strip-stages{display:flex;justify-content:center;gap:20px;font-size:2rem}.strip-stages span{transition:all .3s ease}.strip-stages span.removed{opacity:.3;transform:scale(.7);filter:grayscale(1)}.offline-hint{position:absolute;left:50%;bottom:11.2vh;transform:translate(-50%);padding:8px 12px;border-radius:999px;background:#1e212cc7;color:#f7f8ff;font-weight:700;font-size:.84rem}.button-labels{position:absolute;left:10px;right:10px;bottom:max(10px,env(safe-area-inset-bottom));display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;z-index:13;pointer-events:none}.button-label{padding:14px 8px;border-radius:15px;font-size:.88rem;font-weight:900;color:var(--ink);background:linear-gradient(180deg,#fffffff0,#fff2d2e6);box-shadow:0 5px 14px #0f0c1433;text-align:center;transition:all .15s ease}.button-label.active{background:linear-gradient(180deg,#fff6c7,#ffde78);transform:scale(1.05);box-shadow:0 5px 20px #ffc86480}.victory-layer{position:absolute;inset:0;z-index:14;pointer-events:none}.victory-title{position:absolute;top:8vh;left:50%;transform:translate(-50%);width:min(96vw,780px);margin:0;text-align:center;color:#fff8ea;text-shadow:0 6px 0 rgba(30,17,5,.6),0 0 40px rgba(255,200,100,.6);font-size:clamp(2.5rem,14vw,6rem);animation:victoryPop .6s ease-out}.victory-quote{position:absolute;top:38vh;left:0;right:0;margin:0 auto;width:90vw;text-align:center;color:#fff3cf;text-shadow:0 2px 0 rgba(30,17,5,.42);font-weight:900;font-size:clamp(1rem,3.5vw,1.6rem);font-style:italic;animation:fadeInUp .8s ease-out .3s both}.censor-slam{position:absolute;width:min(62vw,450px);left:50%;bottom:15vh;transform:translate(-50%,130%) scale(.72);opacity:0;z-index:15}.censor-slam.lower{bottom:12vh}.censor-slam.show{animation:slamLower .62s cubic-bezier(.18,1.08,.26,1) forwards}.confetti{position:absolute;top:-10vh;border-radius:2px;animation-name:confettiFall;animation-timing-function:linear;animation-iteration-count:infinite}.end-screen{position:absolute;inset:0;z-index:20;display:flex;align-items:flex-end;justify-content:center;padding-bottom:max(80px,calc(env(safe-area-inset-bottom) + 60px));pointer-events:none}.play-again-btn{pointer-events:auto;padding:18px 40px;border:0;border-radius:30px;font-size:1.3rem;font-weight:900;color:var(--ink);background:linear-gradient(180deg,#ffe470,#ffc95f);box-shadow:0 8px 24px #00000040;cursor:pointer;transition:all .15s ease;animation:buttonPulse 1.5s ease infinite}.play-again-btn:active{transform:scale(.95)}.title-screen{position:absolute;inset:0;z-index:20;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 50% 35%,#fff3,#19161ead)}.title-screen-image{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:.96}.title-panel{position:relative;width:min(88vw,480px);padding:30px 24px;border-radius:24px;background:#fffaeaf2;box-shadow:0 14px 36px #00000042;text-align:center;animation:fadeInUp .5s ease-out}.title-panel h1{margin:0 0 16px;font-size:clamp(1.6rem,6vw,2.4rem);color:var(--ink)}.tap-hint{margin:0;font-weight:800;font-size:1.1rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5);animation:pulse 1.5s ease infinite}.tap-hint.pulse{font-size:1.4rem;color:var(--warm);text-shadow:0 2px 4px rgba(0,0,0,.4)}.howto-screen{position:absolute;inset:0;z-index:20;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 50% 35%,#ffffff4d,#19161e99)}.howto-panel{position:relative;width:min(92vw,540px);padding:24px;border-radius:24px;background:#fffaea59;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.3);box-shadow:0 14px 36px #00000042;text-align:center;animation:fadeInUp .4s ease-out}.howto-panel h2{margin:0 0 18px;font-size:1.6rem;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.4)}.instructions-list{list-style:none;margin:0 0 18px;padding:0;text-align:left}.instructions-list li{display:flex;align-items:center;gap:12px;padding:12px 0;font-size:1.05rem;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.5);border-bottom:1px solid rgba(255,255,255,.15)}.instructions-list li:last-child{border-bottom:none}.lane-icon{font-size:1.6rem;width:36px;text-align:center}.goal-text{margin:0 0 18px;padding:12px;border-radius:12px;background:linear-gradient(90deg,var(--sun),#ffb347);font-weight:800;font-size:1rem;color:#3b1d11}.ready-screen{position:absolute;inset:0;z-index:20;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 50% 50%,#ffe69666,#19161e80)}.ready-panel{position:relative;text-align:center;animation:readyPop .5s ease-out}.ready-panel h1{margin:0;font-size:6rem;animation:cakeBounce .8s ease infinite}.ready-panel h2{margin:10px 0;font-size:2.5rem;color:#fff;text-shadow:0 3px 0 rgba(0,0,0,.3)}.interstitial-screen{position:absolute;inset:0;z-index:20;display:flex;align-items:center;justify-content:center;background:#000000b3;animation:fadeIn .3s ease}.interstitial-panel{position:relative;width:min(88vw,480px);padding:40px 30px;border-radius:24px;background:#fffaea80;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.35);box-shadow:0 14px 36px #0000004d;text-align:center;animation:interstitialPop .4s ease-out}.round-complete{margin:0 0 16px;font-weight:900;font-size:clamp(1.5rem,5vw,2.2rem);color:var(--warm);text-shadow:0 2px 4px rgba(0,0,0,.2)}.interstitial-quote{margin:0 0 24px;font-size:clamp(1.4rem,4.5vw,2rem);font-style:italic;color:#fff;text-shadow:0 3px 6px rgba(0,0,0,.5);line-height:1.4}.debug-overlay{position:absolute;top:70px;right:8px;z-index:100;padding:10px;border-radius:10px;background:#000000e6;color:#0f0;font-family:Monaco,Consolas,monospace;font-size:.68rem;max-width:200px;pointer-events:auto}.debug-overlay .debug-content{max-height:280px;overflow-y:auto}.debug-overlay p{margin:2px 0}.debug-overlay strong{color:#ff0}.debug-overlay .debug-section{color:#888;margin-top:6px;font-size:.6rem}.debug-overlay button{position:absolute;top:4px;right:4px;width:20px;height:20px;padding:0;border:none;border-radius:50%;background:#333;color:#fff;font-size:.7rem;cursor:pointer}.debug-toggle{position:absolute;top:70px;right:8px;z-index:100;width:36px;height:36px;padding:0;border:none;border-radius:50%;background:#0000004d;font-size:1.1rem;opacity:.5;pointer-events:auto;cursor:pointer}.loading-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#fffaf0fa;z-index:25}.loading-content{text-align:center;padding:30px}.loading-content h2{font-size:1.5rem;margin:0 0 20px;animation:loadingBounce 1s ease infinite}.loading-bar{width:200px;height:12px;background:#0000001a;border-radius:10px;overflow:hidden;margin:0 auto}.loading-fill{height:100%;background:linear-gradient(90deg,var(--sun),var(--warm));border-radius:10px;transition:width .3s ease}.loading-content p{margin:10px 0 0;font-weight:800;color:var(--ink)}.loading-content .loading-percent{font-size:1.2rem}.loading-content .loading-status{font-size:.75rem;font-weight:600;opacity:.7;margin-top:8px}@keyframes shake{0%{transform:translate(0)}25%{transform:translate(-6px)}50%{transform:translate(6px)}75%{transform:translate(-4px)}to{transform:translate(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes perfectPop{0%{opacity:0;transform:translate(-50%,-50%) scale(.82)}42%{opacity:1;transform:translate(-50%,-50%) scale(1.06)}to{opacity:0;transform:translate(-50%,-50%) scale(1)}}@keyframes sparklePop{0%{opacity:1;transform:translate(-50%,-50%) scale(.2)}to{opacity:0;transform:translate(-50%,-160%) scale(1.5)}}@keyframes slamLower{0%{opacity:0;transform:translate(-50%,140%) scale(.62)}72%{opacity:1;transform:translate(-50%,-8%) scale(1.12)}to{opacity:1;transform:translate(-50%) scale(1)}}@keyframes confettiFall{0%{transform:translateY(-12vh) rotate(0)}to{transform:translateY(120vh) rotate(560deg)}}@keyframes shimmer{0%{left:-100%}50%{left:100%}to{left:100%}}@keyframes pulse{0%,to{opacity:.7}50%{opacity:1}}@keyframes buttonPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes loadingBounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@keyframes cheeseWobble{0%,to{transform:translate(-50%,-50%) rotate(-8deg) scale(1)}25%{transform:translate(-50%,-50%) rotate(5deg) scale(1.05)}50%{transform:translate(-50%,-50%) rotate(-5deg) scale(1)}75%{transform:translate(-50%,-50%) rotate(8deg) scale(1.03)}}@keyframes teaSplash{0%,to{transform:translate(-50%,-50%) rotate(0) translateY(0)}25%{transform:translate(-50%,-50%) rotate(-4deg) translateY(-3px)}50%{transform:translate(-50%,-50%) rotate(0) translateY(0)}75%{transform:translate(-50%,-50%) rotate(4deg) translateY(-2px)}}@keyframes sharkSwimLeft{0%,to{transform:translate(-50%,-50%) rotate(-3deg) scaleY(1)}50%{transform:translate(-50%,-50%) rotate(3deg) scaleY(.95)}}@keyframes sharkSwimRight{0%,to{transform:translate(-50%,-50%) scaleX(-1) rotate(-3deg) scaleY(1)}50%{transform:translate(-50%,-50%) scaleX(-1) rotate(3deg) scaleY(.95)}}@keyframes stripPulse{0%{filter:brightness(1)}to{filter:brightness(1.1)}}@keyframes flashText{0%{opacity:1;text-shadow:0 2px 0 rgba(0,0,0,.1)}to{opacity:.8;text-shadow:0 2px 10px rgba(255,100,100,.5)}}@keyframes flyOff{0%{transform:translate(-50%) rotate(0) scale(1);opacity:1}to{transform:translate(-50%,-200%) rotate(720deg) scale(.3);opacity:0}}@keyframes cakeBounce{0%,to{transform:scale(1) rotate(0)}25%{transform:scale(1.1) rotate(-5deg)}50%{transform:scale(1) rotate(0)}75%{transform:scale(1.1) rotate(5deg)}}@keyframes readyPop{0%{opacity:0;transform:scale(.5)}70%{transform:scale(1.1)}to{opacity:1;transform:scale(1)}}@keyframes interstitialPop{0%{opacity:0;transform:scale(.8) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes victoryPop{0%{opacity:0;transform:translate(-50%) scale(.5)}60%{transform:translate(-50%) scale(1.1)}to{opacity:1;transform:translate(-50%) scale(1)}}@media(min-width:768px){.lane-indicator{width:60px;height:60px;font-size:1.8rem}.falling-item{width:min(18vw,120px)}.horizontal-shark{width:min(20vw,160px)}}@media(min-width:1024px){.button-labels{width:min(700px,80vw);left:50%;right:auto;transform:translate(-50%)}}
